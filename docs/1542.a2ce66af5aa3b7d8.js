"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1542],{9334:(L,x,c)=>{c.d(x,{Z:()=>S});var t=c(2716),y=c(177);let S=(()=>{var m;class d{constructor(){this.councilMember=(0,t.hFB)()}}return(m=d).\u0275fac=function(l){return new(l||m)},m.\u0275cmp=t.VBU({type:m,selectors:[["app-council-member-card"]],inputs:{councilMember:[1,"councilMember"]},standalone:!0,features:[t.aNF],decls:10,vars:8,consts:[[1,"text-card"],[1,"text-card-content"],[1,"card-flex-container"],[1,"text-card-title"],[1,"text-card-description"],["alt","canton flag",1,"canton-flag",3,"src"]],template:function(l,r){1&l&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"div",3),t.EFF(5),t.k0s(),t.j41(6,"p",4),t.EFF(7),t.k0s()(),t.nrm(8,"img",5),t.nI1(9,"lowercase"),t.k0s()()()),2&l&&(t.R7$(5),t.E5c(" ",r.councilMember().FirstName," ",r.councilMember().LastName," (",r.councilMember().CantonName,") "),t.R7$(2),t.Lme(" ",r.councilMember().PartyAbbreviation," ",r.councilMember().CouncilName," "),t.R7$(),t.Y8G("src","assets/cantons/"+t.bMT(9,6,r.councilMember().CantonAbbreviation)+".svg",t.B4B))},dependencies:[y.GH],styles:[".text-card[_ngcontent-%COMP%]{border-radius:.5rem;box-shadow:0 4px 16px #0000001f;overflow:hidden;background:#fff;margin:0 0 .5rem 0rem}.text-card-content[_ngcontent-%COMP%]{padding:1.25rem}.text-card-content[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]:last-child{margin-bottom:0}.text-card-title[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.4px;font-weight:700;color:var(--ion-color-primary)}.text-card-description[_ngcontent-%COMP%]{font-size:16px;line-height:22.4px;color:#666}.card-flex-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.canton-flag[_ngcontent-%COMP%]{width:2rem;height:2rem;margin-right:1rem;border:#bbbbbb 1px solid}"]}),d})()},9131:(L,x,c)=>{c.d(x,{b:()=>E});var t=c(20),y=c(2716),S=c(6544),m=c(1203),d=c(8141),O=c(5964),l=c(5558),r=c(6822),h=c(6354),f=c(4584);let g=(()=>{var i;class b{constructor(u){this.swissParlService=u}getMembers({top:u,skip:P,searchTerm:D,council:R,showInactive:T}){var W=[];R&&R.length>0&&R.forEach(w=>{W.push({Council:w})});const _={eq:[{Language:"DE"},...W]};return T||_.eq.push({Active:!0}),D&&(_.substringOf=[{LastName:D,FirstName:D,PartyAbbreviation:D,CantonName:D,CantonAbbreviation:D}]),this.swissParlService.fetchCollection("MemberCouncil",{top:u,skip:P,filter:_,orderby:{property:"LastName",order:"asc"}})}getMemberById(u){return this.swissParlService.fetchCollection("MemberCouncil",{filter:{eq:[{ID:u,Language:"DE"}]}}).pipe((0,h.T)(P=>P[0]))}getVotes(u){return this.swissParlService.fetchCollection("Voting",{top:100,filter:{eq:[{PersonNumber:u,Language:"DE"}]},orderby:{property:"VoteEnd",order:"desc"}})}}return(i=b).\u0275fac=function(u){return new(u||i)(y.KVO(f.e))},i.\u0275prov=y.jDH({token:i,factory:i.\u0275fac,providedIn:"root"}),b})();const p={councilMembers:[],selectedCouncilMemberVotingRecord:[],selectedCouncilMemberId:null,hasNoContent:!1,isLoading:!1,isLoadingMore:!1,isRefreshing:!1,isLoadingVotingRecord:!1,hasError:!1,query:{top:20,skip:0,searchTerm:"",council:[],showInactive:!1}},E=(0,t.Eu)({providedIn:"root"},(0,t.Q2)(p),(0,t.QO)(({councilMembers:i,selectedCouncilMemberId:b,selectedCouncilMemberVotingRecord:a})=>({selectedCouncilMember:(0,y.EWP)(()=>i().find(u=>u.ID===b())),hasVotingRecord:(0,y.EWP)(()=>a().length>0)})),(0,t.RI)((i,b=(0,y.WQX)(g))=>({loadCouncilMembers:(0,S.o)((0,m.F)((0,d.M)(()=>(0,t.M8)(i,a=>({isLoading:0===a.councilMembers.length,hasError:!1,hasNoContent:!1}))),(0,l.n)(a=>b.getMembers(a).pipe((0,r.Hn)({next:u=>(0,t.M8)(i,P=>({councilMembers:P.isRefreshing?u:[...P.councilMembers,...u],hasNoContent:0===u.length})),error:()=>(0,t.M8)(i,{hasError:!0}),finalize:()=>(0,t.M8)(i,{isLoading:!1,isLoadingMore:!1,isRefreshing:!1})}))))),loadMore:()=>{(0,t.M8)(i,a=>({isLoadingMore:!0,query:{...a.query,skip:a.query.skip+a.query.top}}))},refresh:()=>{(0,t.M8)(i,a=>({isRefreshing:!0,query:{...a.query,skip:0}}))},updateQuery:a=>{(0,t.M8)(i,u=>({councilMembers:[],query:{...u.query,...a}}))},resetQuery:()=>{(0,t.M8)(i,()=>({query:p.query}))},selectCouncilMember:(0,S.o)((0,m.F)((0,O.p)(a=>{const P=(0,t.Gu)(i).councilMembers.find(D=>D.ID===a);return P&&(0,t.M8)(i,{selectedCouncilMemberId:a}),!P}),(0,d.M)(()=>(0,t.M8)(i,{isLoading:!0,hasError:!1})),(0,l.n)(a=>b.getMemberById(a).pipe((0,r.Hn)({next:u=>(0,t.M8)(i,{councilMembers:[u],selectedCouncilMemberId:u.ID}),error:()=>(0,t.M8)(i,{hasError:!0}),finalize:()=>(0,t.M8)(i,{isLoading:!1})}))))),loadVotingRecord:(0,S.o)((0,m.F)((0,d.M)(()=>(0,t.M8)(i,{isLoadingVotingRecord:!0,hasError:!1})),(0,l.n)(a=>b.getVotes(a).pipe((0,r.Hn)({next:u=>(0,t.M8)(i,{selectedCouncilMemberVotingRecord:u}),error:()=>(0,t.M8)(i,{hasError:!0}),finalize:()=>(0,t.M8)(i,{isLoadingVotingRecord:!1})})))))})))},6822:(L,x,c)=>{c.d(x,{Hn:()=>l});var t=c(983),y=c(8141),S=c(9437),m=c(980);function l(r,h,f){const g="function"==typeof r?{next:r,error:h,complete:f}:r;return p=>p.pipe((0,y.M)({next:g.next,complete:g.complete}),(0,S.W)(E=>(g.error(E),t.w)),g.finalize?(0,m.j)(g.finalize):E=>E)}},6544:(L,x,c)=>{c.d(x,{o:()=>d});var t=c(2716),y=c(1413),S=c(4402),m=c(5343);function d(O,l){var r;null!=l&&l.injector||(0,t.Af3)(d);const h=null!==(r=null==l?void 0:l.injector)&&void 0!==r?r:(0,t.WQX)(t.zZn),f=h.get(t.abz),g=new y.B,p=O(g).subscribe();f.onDestroy(()=>p.unsubscribe());const E=i=>{if((0,t.Hps)(i)){const b=(0,t.QZP)(()=>{const u=i();(0,t.O8t)(()=>g.next(u))},{injector:h}),a={unsubscribe:()=>b.destroy()};return p.add(a),a}if((0,S.A)(i)){const b=i.subscribe(a=>g.next(a));return p.add(b),b}return g.next(i),{unsubscribe:m.l}};return E.unsubscribe=p.unsubscribe.bind(p),E}},20:(L,x,c)=>{function t(n){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function m(n,e,o){return(e=function S(n){var e=function y(n,e){if("object"!=t(n)||!n)return n;var o=n[Symbol.toPrimitive];if(void 0!==o){var s=o.call(n,e||"default");if("object"!=t(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"==t(e)?e:e+""}(e))in n?Object.defineProperty(n,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[e]=o,n}c.d(x,{Gu:()=>f,M8:()=>h,Eu:()=>D,QO:()=>w,TK:()=>N,RI:()=>U,Q2:()=>H});var d=c(2716),O=c(3488);const l=new WeakMap,r=Symbol("STATE_SOURCE");function h(n,...e){n[r].update(o=>e.reduce((s,v)=>({...s,..."function"==typeof v?v(s):v}),o)),function E(n){const e=function p(n){return l.get(n[r][O.bh])||[]}(n);for(const o of e)o((0,d.O8t)(()=>f(n)))}(n)}function f(n){return n[r]()}function a(n){const e=(0,d.O8t)(()=>n());return function u(n){return(null==n?void 0:n.constructor)===Object}(e)?new Proxy(n,{get:(o,s)=>s in e?((0,d.Hps)(o[s])||Object.defineProperty(o,s,{value:(0,d.EWP)(()=>o()[s]),configurable:!0}),a(o[s])):o[s]}):n}function D(...n){const e=[...n],o="function"==typeof e[0]?{}:e.shift(),s=e;return(()=>{var M;class C{constructor(){const I=s.reduce((A,G)=>G(A),function R(){return{[r]:(0,d.vPA)({}),stateSignals:{},computedSignals:{},methods:{},hooks:{}}}()),{stateSignals:V,computedSignals:k,methods:z,hooks:Q}=I,B={...V,...k,...z};this[r]=!1===o.protectedState?I[r]:I[r].asReadonly();for(const A in B)this[A]=B[A];const{onInit:K,onDestroy:F}=Q;K&&K(),F&&(0,d.WQX)(d.abz).onDestroy(F)}}return M=C,m(C,"\u0275fac",function(I){return new(I||M)}),m(C,"\u0275prov",d.jDH({token:M,factory:M.\u0275fac,providedIn:o.providedIn||null})),C})()}function w(n){return e=>{const o=n({...e.stateSignals,...e.computedSignals});return Object.keys(o),{...e,computedSignals:{...e.computedSignals,...o}}}}function N(n){return e=>{const o={[r]:e[r],...e.stateSignals,...e.computedSignals,...e.methods},s="function"==typeof n?n(o):n,v=M=>{const C=s[M],j=e.hooks[M];return C?()=>{j&&j(),C(o)}:j};return{...e,hooks:{onInit:v("onInit"),onDestroy:v("onDestroy")}}}}function U(n){return e=>{const o=n({[r]:e[r],...e.stateSignals,...e.computedSignals,...e.methods});return Object.keys(o),{...e,methods:{...e.methods,...o}}}}function H(n){return e=>{const o="function"==typeof n?n():n,s=Object.keys(o);e[r].update(M=>({...M,...o}));const v=s.reduce((M,C)=>{const j=(0,d.EWP)(()=>e[r]()[C]);return{...M,[C]:a(j)}},{});return{...e,stateSignals:{...e.stateSignals,...v}}}}}}]);